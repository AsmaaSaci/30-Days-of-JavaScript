/**************************ðŸ˜Ž**************************/
const maxStability=(n,t,r)=>{let i=new Int32Array(n).fill(-1),e=n,f=1/0;for(let[n,r,o,u]of t)if(u){if(!union(n,r,i))return-1;--e,f=Math.min(f,o)}t.sort(((n,t)=>t[2]-n[2]));for(let n=0;n<t.length&&e>1;++n){let[o,u,l,a]=t[n];if(union(o,u,i)){e-1<=r&&(l*=2),f=Math.min(f,l),--e}}return e>1?-1:f};function union(n,t,r){function i(n){for(;r[n]!==n;)n=r[n];return n}if(r[n]<0&&r[t]<0)return r[n]=n,r[t]=n,!0;if(r[n]>=0&&r[t]>=0){let e=i(r[n]),f=i(r[t]);return r[e]=f,e!==f}return r[t]>=0?r[n]=t:r[t]=n,!0}
