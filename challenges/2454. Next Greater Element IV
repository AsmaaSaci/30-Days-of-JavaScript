/**
 * @param {number[]} nums
 * @return {number[]}
 */
var secondGreaterElement = function(nums) {
    let stack1 = [], stack2 = [];
    let peek = (no) => {
        if(no == 1)
            return nums[stack1[stack1.length - 1]];
        return nums[stack2[stack2.length - 1]];
    }  
    let result = new Array(nums.length).fill(-1);
    for(let i = 0; i < nums.length; i++){
        while(stack2.length && peek(2) < nums[i]){
            result[stack2.pop()] = nums[i];
        }
        // this is require to store the value in increasing order so that the min value get processs. Otherwise min value will be blocked by a greater value in stack2. 
        let tempStack = [];
        while(stack1.length && peek(1) < nums[i]){
            tempStack.push(stack1.pop());
        }
        while(tempStack.length) stack2.push(tempStack.pop());
        stack1.push(i);
    }
    return result;
};
