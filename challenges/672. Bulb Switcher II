// There's only 4 kinds of status:
// 1. label 1, 7, 13, ..., all 3k + 1 with even k's
// 2. label 4, 10, 16, ..., all 3k + 1 with odd k's
// 3. label 3, 5, 9, 11, ..., all odd numbers without kind 1.
// 4. label 2, 6, 8, 12, ..., all even numbers without kind 2.

// Therefore, we can see that (O: on, X: off),
// 0 press   OOOO
// 1 press         XXXX, OXOX, XOXO, XOOX
// 2 presses OOOO, XXXX, OXOX, XOXO,       OXXO, XXOO, OOXX
// 3 presses OOOO, XXXX, OXOX, XOXO, XOOX, OXXO, XXOO, OOXX, shows all 8 status
// 4+ presses, answer is 8

public class Solution {
    public int FlipLights(int n, int presses) {
        if (presses == 0) return 1;
        if (n == 1) return 2;
        if (n == 2) return presses == 1 ? 3 : 4;
        return presses == 1 ? 4 : presses == 2 ? 7 : 8;
    }
}
