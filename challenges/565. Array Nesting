var arrayNesting = function(nums) {
    const visited = new Array(nums.length).fill(false);
    let maxLength = 0;

    for (let i = 0; i < nums.length; i++) {
        if (!visited[i]) {
            let length = 0;
            let j = i;
            while (!visited[j]) {
                visited[j] = true;
                j = nums[j];
                length++;
            }
            maxLength = Math.max(maxLength, length);
        }
    }

    return maxLength;
};
