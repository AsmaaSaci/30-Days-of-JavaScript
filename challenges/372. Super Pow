var superPow = function(a, b) {
    const mod = 1337;
    a %= mod;

    return b.reduce((res, digit) => {
        res = Math.pow(res, 10) % mod;
        res = (res * modPow(a, digit, mod)) % mod;
        return res;
    }, 1);
};

function modPow(base, exp, mod) {
    let result = 1;
    base %= mod;
    while (exp > 0) {
        if (exp % 2 === 1) result = (result * base) % mod;
        base = (base * base) % mod;
        exp = Math.floor(exp / 2);
    }
    return result;
}
