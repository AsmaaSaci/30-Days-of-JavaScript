/**************************ðŸ˜Ž**************************/
const maxScore=(t,n)=>{const o=new Array(t).fill().map((()=>[]));for(const[t,e]of n)o[t].push(e),o[e].push(t);const e=[],c=new Array(t).fill(!1);for(let n=0;n<t;n++){if(c[n])continue;let t=0;const s=[],r=[n];for(;t<r.length;){const n=r[t++];if(!c[n]){s.push(n),c[n]=!0;for(const t of o[n])c[t]||r.push(t)}}e.push(s)}const s=e.map((t=>[t.reduce(((t,n)=>t+o[n].length),0)===2*t.length?"cycle":"chain",t.length]));s.sort(((t,n)=>t[0]!==n[0]?"cycle"===t[0]?-1:1:n[1]-t[1]));let r=0,l=0;const f=new Array(t).fill().map(((t,n)=>n+1)).reverse();for(const t of s){const[n,o]=t,e=[],c=l+o;for(let t=l;t<c;t++){if(0===e.length){e.push(f[t]);continue}const n=f[t]*e.at(0),o=f[t]*e.at(-1);n>o?(r+=n,e.unshift(f[t])):(r+=o,e.push(f[t]))}"cycle"===n&&(r+=e.at(0)*e.at(-1)),l+=o}return r};
