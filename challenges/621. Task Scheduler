/**
 * @param {character[]} tasks
 * @param {number} n
 * @return {number}
 */
var leastInterval = function(tasks, n) {

    const freq = new Array(26).fill(0);
    const A = 'A'.charCodeAt(0);
    let maxFreq = 0;
    let maxCount = 0;

    for (let task of tasks) {
        const idx = task.charCodeAt(0) - A;
        freq[idx]++;
        if(freq[idx] > maxFreq){
            maxCount = 1;
            maxFreq =  freq[idx];
        }else if(freq[idx] === maxFreq){
            maxCount++;
        }
    }


    const gapCount = maxFreq - 1;
    const gapLength = n + 1;
    const minTime = gapCount * gapLength + maxCount;

    return Math.max(tasks.length, minTime);
};
