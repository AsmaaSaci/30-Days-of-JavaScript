const largestOverlap = (img1, img2) => {
  const n = img1.length;
  const A = [], B = [];
  for (let i = 0; i < n; ++i) for (let j = 0; j < n; ++j) {
    if (img1[i][j]) A.push([i, j]);
    if (img2[i][j]) B.push([i, j]);
  }
  const map = new Map();
  let best = 0;
  for (const [x1, y1] of A) {
    for (const [x2, y2] of B) {
      const key = (x1 - x2) + ',' + (y1 - y2);
      const val = (map.get(key) || 0) + 1;
      map.set(key, val);
      if (val > best) best = val;
    }
  }
  return best;
};
