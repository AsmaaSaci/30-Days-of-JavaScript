const matrixScore = grid => {
    const matrix = [];
  	const rows = grid.length;
  	const cols = grid[0].length;
  	let res = 0;
  	
  	for (let i = 0; i < rows; i++) {
    	matrix.push(grid[i]);
    }
  
  	for (let i = 0; i < rows; i++) {
    	if (!matrix[i][0]) {
        	for (let j = 0; j < cols; j++) {
            	if (!matrix[i][j]) {
                	matrix[i][j] = 1;
                } else {
                	matrix[i][j] = 0;
                }
            }
        }
    }
  
  	if (cols > 1) {
    	for (let j = 1; j < cols; j++) {
        	let count1 = 0, count2 = 0;
          
          	for (let i = 0; i < rows; i++) {
            	if (matrix[i][j]) {
                 	count1++;
                } else {
                	count2++;
                }
            }
          
          	if (count2 > count1) {
            	for (let i = 0; i < rows; i++) {
                  if (!matrix[i][j]) {
                      matrix[i][j] = 1;
                  } else {
                      matrix[i][j] = 0;
                  }
              	}
            }
          
          	count1 = 0;
          	count2 = 0;
        }
    }
  
  	for (let i = 0; i < rows; i++) {
    	res += parseInt(matrix[i].join(''), 2);
    }
  
  	return res;
};
